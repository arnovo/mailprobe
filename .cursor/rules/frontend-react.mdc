---
description: React/Next.js standards for the frontend
globs: frontend/**/*.tsx
alwaysApply: false
---

# Frontend React/Next.js - Standards

## Next.js 14 Structure (App Router)

```
src/app/
  layout.tsx          # Root layout
  page.tsx            # Home page (/)
  login/page.tsx      # /login
  dashboard/
    layout.tsx        # Dashboard layout
    page.tsx          # /dashboard (leads list)
    config/page.tsx   # /dashboard/config
    jobs/page.tsx     # /dashboard/jobs
```

## Naming Conventions

- **Files**: kebab-case for folders, `page.tsx` for pages
- **Components**: PascalCase (`LeadRow`, `AlertModal`)
- **Hooks**: camelCase with `use` prefix (`useAuth`, `useFetch`)
- **State variables**: camelCase (`isLoading`, `selectedLead`)

## Component Patterns

```tsx
// ✅ Functional components with types
interface LeadRowProps {
  lead: Lead;
  onEdit: (id: number) => void;
}

export function LeadRow({ lead, onEdit }: LeadRowProps) {
  return <tr>...</tr>;
}
```

## State and Fetching

```tsx
// Local state with useState
const [leads, setLeads] = useState<Lead[]>([]);
const [isLoading, setIsLoading] = useState(true);

// Fetch in useEffect
useEffect(() => {
  async function fetchLeads() {
    const res = await fetch(`${API_URL}/v1/leads`);
    setLeads(await res.json());
  }
  fetchLeads();
}, []);
```

## Styles with Tailwind

```tsx
// ✅ Direct Tailwind classes
<button className="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded">

// ✅ Conditionals with template literals
<span className={`px-2 py-1 rounded ${
  status === 'valid' ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'
}`}>
```

## API Calls

```tsx
const API_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8000';

// Always include credentials for auth
const res = await fetch(`${API_URL}/v1/leads`, {
  credentials: 'include',
  headers: { 'Content-Type': 'application/json' },
});
```

## UI/UX

- Show loading states (`isLoading`)
- Visual feedback on actions (disabled buttons, spinners)
- Clear error messages (localized via i18n)
- Discrete icons for alerts (e.g.: ⚠️ for missing data)
